function _typeof(n){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(n)}(function(n){(typeof exports=="undefined"?"undefined":_typeof(exports))=="object"&&(typeof module=="undefined"?"undefined":_typeof(module))=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";function i(n,t){if(!n.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode");}function t(n,t){if(!n)return/(?:)/;var i="";return n instanceof RegExp?(n.ignoreCase&&(i="i"),n=n.source):n=String(n),new RegExp((t===!1?"":"^")+"(?:"+n+")",i)}function u(n){var i,t;if(!n)return null;if(n.apply)return n;if(typeof n=="string")return n.replace(/\./g," ");for(i=[],t=0;t<n.length;t++)i.push(n[t]&&n[t].replace(/\./g," "));return i}function f(n,r){(n.next||n.push)&&i(r,n.next||n.push);this.regex=t(n.regex);this.token=u(n.token);this.data=n}function e(n,t){return function(i,r){var l,h,v,a,c,u,f,e,s;if(r.pending)return l=r.pending.shift(),r.pending.length==0&&(r.pending=null),i.pos+=l.text.length,l.token;if(r.local)return r.local.end&&i.match(r.local.end)?(h=r.local.endToken||null,r.local=r.localState=null,h):(h=r.local.mode.token(i,r.localState),r.local.endScan&&(v=r.local.endScan.exec(i.current()))&&(i.pos=i.start+v.index),h);for(a=n[r.state],c=0;c<a.length;c++)if(u=a[c],f=(!u.data.sol||i.sol())&&i.match(u.regex),f){if(u.data.next?r.state=u.data.next:u.data.push?((r.stack||(r.stack=[])).push(r.state),r.state=u.data.push):u.data.pop&&r.stack&&r.stack.length&&(r.state=r.stack.pop()),u.data.mode&&o(t,r,u.data.mode,u.token),u.data.indent&&r.indent.push(i.indentation()+t.indentUnit),u.data.dedent&&r.indent.pop(),e=u.token,e&&e.apply&&(e=e(f)),f.length>2&&u.token&&typeof u.token!="string"){for(r.pending=[],s=2;s<f.length;s++)f[s]&&r.pending.push({text:f[s],token:u.token[s-1]});return i.backUp(f[0].length-(f[1]?f[1].length:0)),e[0]}return e&&e.join?e[0]:e}return i.next(),null}}function r(n,t){var u,i;if(n===t)return!0;if(!n||_typeof(n)!="object"||!t||_typeof(t)!="object")return!1;u=0;for(i in n)if(n.hasOwnProperty(i)){if(!t.hasOwnProperty(i)||!r(n[i],t[i]))return!1;u++}for(i in t)t.hasOwnProperty(i)&&u--;return u==0}function o(i,u,f,e){var o,s,h,c;if(f.persistent)for(s=u.persistentStates;s&&!o;s=s.next)(f.spec?r(f.spec,s.spec):f.mode==s.mode)&&(o=s);h=o?o.mode:f.mode||n.getMode(i,f.spec);c=o?o.state:n.startState(h);f.persistent&&!o&&(u.persistentStates={mode:h,spec:f.spec,state:c,next:u.persistentStates});u.localState=c;u.local={mode:h,end:f.end&&t(f.end),endScan:f.end&&f.forceEnd!==!1&&t(f.end,!1),endToken:e&&e.join?e[e.length-1]:e}}function s(n,t){for(var i=0;i<t.length;i++)if(t[i]===n)return!0}function h(t,i){return function(r,u,f){var o,h,c,e,l;if(r.local&&r.local.mode.indent)return r.local.mode.indent(r.localState,u,f);if(r.indent==null||r.local||i.dontIndentStates&&s(r.state,i.dontIndentStates)>-1)return n.Pass;o=r.indent.length-1;h=t[r.state];n:for(;;){for(c=0;c<h.length;c++)if(e=h[c],e.data.dedent&&e.data.dedentIfLineStart!==!1&&(l=e.regex.exec(u),l&&l[0])){o--;(e.next||e.push)&&(h=t[e.next||e.push]);u=u.slice(l[0].length);continue n}break}return o<0?0:r.indent[o]}}n.defineSimpleMode=function(t,i){n.defineMode(t,function(t){return n.simpleMode(t,i)})};n.simpleMode=function(t,r){var o,w,v,s,c,y,l;i(r,"start");var a={},u=r.meta||{},p=!1;for(o in r)if(o!=u&&r.hasOwnProperty(o))for(w=a[o]=[],v=r[o],s=0;s<v.length;s++)c=v[s],w.push(new f(c,r)),(c.indent||c.dedent)&&(p=!0);if(y={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:p?[]:null}},copyState:function(t){var r={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)},i;for(t.localState&&(r.localState=n.copyState(t.local.mode,t.localState)),t.stack&&(r.stack=t.stack.slice(0)),i=t.persistentStates;i;i=i.next)r.persistentStates={mode:i.mode,spec:i.spec,state:i.state==t.localState?r.localState:n.copyState(i.mode,i.state),next:r.persistentStates};return r},token:e(a,t),innerMode:function(n){return n.local&&{mode:n.local.mode,state:n.localState}},indent:h(a,u)},u)for(l in u)u.hasOwnProperty(l)&&(y[l]=u[l]);return y}});