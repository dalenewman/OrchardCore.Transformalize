(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";function t(t,i){var r=t.getLine(i),u=r.search(/\S/);return u==-1||/\bcomment\b/.test(t.getTokenTypeAt(n.Pos(i,u+1)))?-1:n.countColumn(r,null,t.getOption("tabSize"))}n.registerHelper("fold","indent",function(i,r){var o=t(i,r.line),u,f,s,e;if(!(o<0)){for(u=null,f=r.line+1,s=i.lastLine();f<=s;++f)if(e=t(i,f),e!=-1)if(e>o)u=f;else break;if(u)return{from:n.Pos(r.line,i.getLine(r.line).length),to:n.Pos(u,i.getLine(u).length)}}})});