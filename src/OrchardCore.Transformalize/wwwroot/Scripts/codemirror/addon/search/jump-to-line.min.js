(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror"),require("../dialog/dialog")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../dialog/dialog"],n):n(CodeMirror)})(function(n){"use strict";function i(n,t,i,r,u){n.openDialog?n.openDialog(t,u,{value:r,selectValueOnOpen:!0}):u(prompt(i,r))}function r(n){return n.phrase("Jump to line:")+' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+n.phrase("(Use line:column or scroll% syntax)")+"<\/span>"}function t(n,t){var i=Number(t);return/^[-+]/.test(t)?n.getCursor().line+i:i-1}n.commands.jumpToLine=function(n){var u=n.getCursor();i(n,r(n),n.phrase("Jump to line:"),u.line+1+":"+u.ch,function(i){var r,f;i&&((r=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(i))?n.setCursor(t(n,r[1]),Number(r[2])):(r=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(i))?(f=Math.round(n.lineCount()*Number(r[1])/100),/^[-+]/.test(r[1])&&(f=u.line+f+1),n.setCursor(f-1,u.ch)):(r=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(i))&&n.setCursor(t(n,r[1]),u.ch))})};n.keyMap["default"]["Alt-G"]="jumpToLine"});