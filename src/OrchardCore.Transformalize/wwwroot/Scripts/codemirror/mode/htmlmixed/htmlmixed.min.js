function _typeof(n){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(n)}(function(n){(typeof exports=="undefined"?"undefined":_typeof(exports))=="object"&&(typeof module=="undefined"?"undefined":_typeof(module))=="object"?n(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],n):n(CodeMirror)})(function(n){"use strict";function f(n,t,i){var r=n.current(),u=r.search(t);return u>-1?n.backUp(r.length-u):r.match(/<\/?$/)&&(n.backUp(r.length),n.match(t,!1)||n.match(r)),i}function e(n){var i=t[n];return i?i:t[n]=new RegExp("\\s+"+n+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function o(n,t){var i=n.match(e(t));return i?/^\s*(.*?)\s*$/.exec(i[2])[1]:""}function i(n,t){return new RegExp((t?"^":"")+"<\/s*"+n+"s*>","i")}function r(n,t){var i,f,u,r;for(i in n)for(f=t[i]||(t[i]=[]),u=n[i],r=u.length-1;r>=0;r--)f.unshift(u[r])}function s(n,t){for(var i,r=0;r<n.length;r++)if(i=n[r],!i[0]||i[1].test(o(t,i[0])))return i[2]}var u={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},t={};n.defineMode("htmlmixed",function(t,e){function v(r,u){var l=o.token(r,u.htmlState),a=/\btag\b/.test(l),c,e;if(a&&!/[<>\s\/]/.test(r.current())&&(c=u.htmlState.tagName&&u.htmlState.tagName.toLowerCase())&&h.hasOwnProperty(c))u.inTag=c+" ";else if(u.inTag&&a&&/>$/.test(r.current())){e=/^([\S]+) (.*)/.exec(u.inTag);u.inTag=null;var p=r.current()==">"&&s(h[e[1]],e[2]),y=n.getMode(t,p),w=i(e[1],!0),b=i(e[1],!1);u.token=function(n,t){return n.match(w,!1)?(t.token=v,t.localState=t.localMode=null,null):f(n,b,t.localMode.token(n,t.localState))};u.localMode=y;u.localState=n.startState(y,o.indent(u.htmlState,"",""))}else u.inTag&&(u.inTag+=r.current(),r.eol()&&(u.inTag+=" "));return l}var o=n.getMode(t,{name:"xml",htmlMode:!0,multilineTagIndentFactor:e.multilineTagIndentFactor,multilineTagIndentPastTag:e.multilineTagIndentPastTag}),h={},a=e&&e.tags,l=e&&e.scriptTypes,c;if(r(u,h),a&&r(a,h),l)for(c=l.length-1;c>=0;c--)h.script.unshift(["type",l[c].matches,l[c].mode]);return{startState:function(){var t=n.startState(o);return{token:v,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var i;return t.localState&&(i=n.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:i,htmlState:n.copyState(o,t.htmlState)}},token:function(n,t){return t.token(n,t)},indent:function(t,i,r){return!t.localMode||/^\s*<\//.test(i)?o.indent(t.htmlState,i,r):t.localMode.indent?t.localMode.indent(t.localState,i,r):n.Pass},innerMode:function(n){return{state:n.localState||n.htmlState,mode:n.localMode||o}}}},"xml","javascript","css");n.defineMIME("text/html","htmlmixed")});